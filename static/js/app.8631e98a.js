(function(){"use strict";var e={2345:function(e,s,t){var n=t(5130),i=t(6768),o=t(4232);const a={id:"app"},r={key:0},l={key:1},m={key:2},u={class:"session-info"},d={class:"session-code"},c={class:"settings-summary"},h={style:{"margin-top":"20px"}},g={class:"team-settings"},p={class:"setting-group"},y={class:"setting-group"},v={class:"setting-group"},k={class:"setting-group"},S=["disabled"],f={key:0,class:"teams-container"},b={class:"teams-list"},_={key:3},I={class:"session-info"},C={class:"session-code"},T={key:0,class:"teams-container"},L={class:"teams-list"},w={key:0,class:"you-badge"},A={key:0,class:"you-badge"};function x(e,s,t,x,E,U){const M=(0,i.g2)("Session"),X=(0,i.g2)("AdminSettings"),$=(0,i.g2)("TeamGraph"),F=(0,i.g2)("SurveyForm");return(0,i.uX)(),(0,i.CE)("div",a,[E.sessionId?E.isAdmin&&!E.settingsConfirmed?((0,i.uX)(),(0,i.CE)("div",l,[s[5]||(s[5]=(0,i.Lk)("h2",null,"Admin Settings",-1)),(0,i.bF)(X,{onSettingsSaved:U.onSettingsSaved},null,8,["onSettingsSaved"])])):E.isAdmin&&E.settingsConfirmed?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.Lk)("div",u,[(0,i.Lk)("h3",null,[s[6]||(s[6]=(0,i.eW)("Session Code: ")),(0,i.Lk)("span",d,(0,o.v_)(E.sessionId),1)]),s[9]||(s[9]=(0,i.Lk)("p",null,"Share this code with participants to join this session",-1)),(0,i.Lk)("div",c,[(0,i.Lk)("p",null,[s[7]||(s[7]=(0,i.Lk)("strong",null,"Anonymous Mode:",-1)),(0,i.eW)(" "+(0,o.v_)(E.sessionSettings.anonymousMode?"Enabled":"Disabled"),1)]),(0,i.Lk)("p",null,[s[8]||(s[8]=(0,i.Lk)("strong",null,"Show Teams to Users:",-1)),(0,i.eW)(" "+(0,o.v_)(E.sessionSettings.showTeamsToUsers?"Enabled":"Disabled"),1)])])]),(0,i.Lk)("div",h,[(0,i.Lk)("p",null,"Responses: "+(0,o.v_)(E.surveys.length),1),(0,i.Lk)("div",g,[s[16]||(s[16]=(0,i.Lk)("h3",null,"Team Generation Settings",-1)),(0,i.Lk)("div",p,[s[10]||(s[10]=(0,i.Lk)("label",null,"Team Size:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":s[0]||(s[0]=e=>E.sessionSettings.teamSize=e),min:"2",max:"10"},null,512),[[n.Jo,E.sessionSettings.teamSize]])]),(0,i.Lk)("div",y,[s[12]||(s[12]=(0,i.Lk)("label",null,"Team Approach:",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>E.sessionSettings.teamApproach=e)},s[11]||(s[11]=[(0,i.Lk)("option",{value:"homogeni"},"Homogeneous",-1),(0,i.Lk)("option",{value:"heterogeni"},"Heterogeneous",-1)]),512),[[n.u1,E.sessionSettings.teamApproach]])]),(0,i.Lk)("div",v,[s[14]||(s[14]=(0,i.Lk)("label",null,"Characteristics:",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>E.sessionSettings.characteristics=e),multiple:""},s[13]||(s[13]=[(0,i.Lk)("option",{value:"tech_skills"},"Technical Skills",-1),(0,i.Lk)("option",{value:"comm_skills"},"Communication Skills",-1),(0,i.Lk)("option",{value:"creative_skills"},"Creative Skills",-1),(0,i.Lk)("option",{value:"leadership_skills"},"Leadership Skills",-1)]),512),[[n.u1,E.sessionSettings.characteristics]])]),(0,i.Lk)("div",k,[s[15]||(s[15]=(0,i.Lk)("label",null,"Similarity Threshold (%):",-1)),(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":s[3]||(s[3]=e=>E.sessionSettings.similarityThreshold=e),min:"0",max:"100"},null,512),[[n.Jo,E.sessionSettings.similarityThreshold]])])]),(0,i.Lk)("button",{onClick:s[4]||(s[4]=(...e)=>U.generateTeams&&U.generateTeams(...e)),disabled:E.surveys.length<2}," Generate Teams ",8,S)]),E.teams.length?((0,i.uX)(),(0,i.CE)("div",f,[s[17]||(s[17]=(0,i.Lk)("h2",null,"Generated Teams",-1)),(0,i.Lk)("div",b,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(E.teams,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"team-card"},[(0,i.Lk)("h3",null,"Team "+(0,o.v_)(s+1),1),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.members,((e,s)=>((0,i.uX)(),(0,i.CE)("li",{key:s},(0,o.v_)(e.name),1)))),128))])])))),128))])])):(0,i.Q3)("",!0),E.teams.length?((0,i.uX)(),(0,i.Wv)($,{key:1,teams:E.teams},null,8,["teams"])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("div",_,[(0,i.Lk)("div",I,[(0,i.Lk)("h3",null,[s[18]||(s[18]=(0,i.eW)("Joined Session: ")),(0,i.Lk)("span",C,(0,o.v_)(E.sessionId),1)])]),(0,i.bF)(F,{sessionId:E.sessionId,isAdmin:E.isAdmin,anonymousMode:E.sessionSettings.anonymousMode,onSurveysUpdated:U.onSurveysUpdated},null,8,["sessionId","isAdmin","anonymousMode","onSurveysUpdated"]),E.teams.length&&E.sessionSettings.showTeamsToUsers?((0,i.uX)(),(0,i.CE)("div",T,[s[19]||(s[19]=(0,i.Lk)("h2",null,"Generated Teams",-1)),(0,i.Lk)("div",L,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(E.teams,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"team-card"},[(0,i.Lk)("h3",null,"Team "+(0,o.v_)(s+1),1),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.members,((e,s)=>((0,i.uX)(),(0,i.CE)("li",{key:e.id,class:(0,o.C4)({"current-user":U.isCurrentUser(e),"anonymous-user":E.sessionSettings.anonymousMode})},[E.sessionSettings.anonymousMode?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)(" Member "+(0,o.v_)(s+1)+" ",1),U.isCurrentUser(e)?((0,i.uX)(),(0,i.CE)("span",w,"(You)")):(0,i.Q3)("",!0)],64)):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.eW)((0,o.v_)(e.name)+" ",1),U.isCurrentUser(e)?((0,i.uX)(),(0,i.CE)("span",A,"(You)")):(0,i.Q3)("",!0)],64))],2)))),128))])])))),128))])])):(0,i.Q3)("",!0),E.teams.length&&E.sessionSettings.showTeamsToUsers?((0,i.uX)(),(0,i.Wv)($,{key:1,teams:E.teams},null,8,["teams"])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(M,{onSessionCreated:U.onSessionCreated},null,8,["onSessionCreated"])]))])}t(4114),t(8111),t(116),t(1701),t(3579);function E(e,s,t,o,a,r){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("button",{onClick:s[0]||(s[0]=(...e)=>r.createSession&&r.createSession(...e))},"Create Session"),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>a.joinId=e),placeholder:"Session code",style:{"margin-left":"10px"}},null,512),[[n.Jo,a.joinId]]),(0,i.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>r.joinSession&&r.joinSession(...e)),style:{"margin-left":"5px"}},"Join")])}var U=t(788),M=t.n(U),X={name:"SessionManager",data(){return{joinId:""}},methods:{async createSession(){try{console.log("Creating new session...");const e=await M().post("/api/session");console.log("Session created response:",e.data),localStorage.setItem("isAdminFlow","true");const s={id:e.data.session_id,admin:!0};console.log("Emitting session-created with payload:",s),this.$emit("session-created",s)}catch(e){console.error("Error creating session:",e),console.error("Error details:",e.response?e.response.data:"No response data"),console.error("Error status:",e.response?e.response.status:"No status"),alert(`Failed to create session. Error: ${e.message}`)}},joinSession(){this.joinId&&this.$emit("session-created",{id:this.joinId,admin:!1})}}},$=t(1241);const F=(0,$.A)(X,[["render",E],["__scopeId","data-v-84188eba"]]);var j=F;const z={style:{"margin-top":"20px"}},G={key:0,class:"success-message"},N={key:0,style:{"margin-bottom":"15px"}},O={key:1,style:{"margin-bottom":"15px"}},V=["value"];function W(e,s,t,a,r,l){return(0,i.uX)(),(0,i.CE)("div",z,[r.submitted?((0,i.uX)(),(0,i.CE)("div",G," Survey submitted successfully! Thank you for your participation. ")):((0,i.uX)(),(0,i.CE)("form",{key:1,onSubmit:s[1]||(s[1]=(0,n.D$)(((...e)=>l.submitSurvey&&l.submitSurvey(...e)),["prevent"]))},[t.anonymousMode?((0,i.uX)(),(0,i.CE)("div",O,s[3]||(s[3]=[(0,i.Lk)("p",{class:"anonymous-notice"},"Anonymous Mode: Your responses will be recorded without your name",-1)]))):((0,i.uX)(),(0,i.CE)("div",N,[s[2]||(s[2]=(0,i.Lk)("label",{for:"name"},"Your Name:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=e=>r.survey.name=e),required:""},null,512),[[n.Jo,r.survey.name]])])),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.fields,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.key,style:{"margin-bottom":"15px"}},[(0,i.Lk)("label",null,(0,o.v_)(e.label),1),((0,i.uX)(),(0,i.Wv)((0,i.$y)("slider"===e.type?"input":"select"),(0,i.v6)({modelValue:r.survey[e.key],"onUpdate:modelValue":s=>r.survey[e.key]=s,ref_for:!0},e.props),{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.options||[],(e=>((0,i.uX)(),(0,i.CE)("option",{key:e.value,value:e.value},(0,o.v_)(e.label),9,V)))),128))])),_:2},1040,["modelValue","onUpdate:modelValue"]))])))),128)),s[4]||(s[4]=(0,i.Lk)("button",{type:"submit"},"Submit Survey",-1))],32))])}var D={name:"SurveyForm",props:{sessionId:{type:String,required:!0},isAdmin:{type:Boolean,default:!1},anonymousMode:{type:Boolean,default:!1}},data(){return{submitted:!1,survey:{tech_skills:3,comm_skills:3,creative_skills:3,leadership_skills:3,preferred_role:null,pressure_handling:3,team_satisfaction:3,flexibility:3,leadership_frequency:3,idea_frequency:3,self_learning_readiness:3,conflict_management:null},fields:[{key:"tech_skills",label:"Tech Skills (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"comm_skills",label:"Comm Skills (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"creative_skills",label:"Creative Skills (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"leadership_skills",label:"Leadership Skills (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"preferred_role",label:"Preferred Role",type:"select",options:[{label:"Leader",value:"leader"},{label:"Tech Support",value:"tech_support"},{label:"Analyst",value:"analyst"},{label:"Presenter",value:"presenter"},{label:"Any",value:"any"}]},{key:"pressure_handling",label:"Pressure Handling (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"team_satisfaction",label:"Team Satisfaction (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"flexibility",label:"Flexibility (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"leadership_frequency",label:"Leadership Frequency (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"idea_frequency",label:"Idea Frequency (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"self_learning_readiness",label:"Self-Learning Readiness (1-5)",type:"slider",props:{type:"range",min:1,max:5}},{key:"conflict_management",label:"Conflict Management",type:"select",options:[{label:"Avoid",value:"avoid"},{label:"Hesitant",value:"hesitant"},{label:"Compromise",value:"compromise"},{label:"Talk",value:"talk"},{label:"Active",value:"active"}]}]}},mounted(){console.log("SurveyForm mounted with anonymousMode:",this.anonymousMode),this.anonymousMode||(this.survey.name="")},methods:{async submitSurvey(){try{const e=await M().post(`/api/session/${this.sessionId}/survey`,this.survey);this.$emit("surveys-updated",e.data),this.submitted=!0,sessionStorage.setItem(`survey_submitted_${this.sessionId}`,"true")}catch(e){console.error("Error submitting survey:",e),alert("Failed to submit survey. Please try again.")}}},created(){"true"===sessionStorage.getItem(`survey_submitted_${this.sessionId}`)&&(this.submitted=!0)}};const q=(0,$.A)(D,[["render",W],["__scopeId","data-v-4c9d122a"]]);var J=q;const K={class:"team-graph"},P={ref:"graphContainer",class:"graph-container"};function H(e,s,t,n,o,a){return(0,i.uX)(),(0,i.CE)("div",K,[s[0]||(s[0]=(0,i.Lk)("h3",null,"Team Network",-1)),(0,i.Lk)("div",P,null,512)])}t(7588);var Q=t(4310),R={name:"TeamGraph",props:{teams:{type:Array,required:!0}},data(){return{width:800,height:600,simulation:null,svg:null}},mounted(){this.initGraph()},watch:{teams:{handler:"updateGraph",deep:!0}},methods:{initGraph(){this.svg&&this.svg.remove(),this.svg=Q.Ltv(this.$refs.graphContainer).append("svg").attr("width",this.width).attr("height",this.height).call(Q.s_O().scaleExtent([.5,4]).on("zoom",(e=>{this.svg.selectAll("g").attr("transform",e.transform)}))),this.simulation=Q.tXi().force("link",Q.kJC().id((e=>e.id)).distance(100)).force("charge",Q.xJS().strength(-300)).force("center",Q.jTM(this.width/2,this.height/2)),this.updateGraph()},updateGraph(){if(!this.teams||0===this.teams.length)return;const e=[],s=[],t=new Map;this.teams.forEach(((n,i)=>{n.members.forEach(((n,o)=>{const a=`${i}-${o}`,r={id:a,name:n.name,team:i,x:Math.random()*this.width,y:Math.random()*this.height};e.push(r),t.set(a,r);for(let e=0;e<o;e++)s.push({source:`${i}-${e}`,target:a})}))})),this.svg.selectAll("*").remove();const n=this.svg.append("g").selectAll("line").data(s).enter().append("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",2),i=this.svg.append("g").selectAll("circle").data(e).enter().append("g").call(Q.$Er().on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended));i.append("circle").attr("r",20).attr("fill",(e=>Q.t55[e.team%10])),i.append("text").text((e=>e.name)).attr("x",0).attr("y",30).attr("text-anchor","middle").style("font-size","12px"),this.simulation.nodes(e).on("tick",(()=>{n.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),i.attr("transform",(e=>`translate(${e.x},${e.y})`))})),this.simulation.force("link").links(s)},dragstarted(e,s){e.active||this.simulation.alphaTarget(.3).restart(),s.fx=s.x,s.fy=s.y},dragged(e,s){s.fx=e.x,s.fy=e.y},dragended(e,s){e.active||this.simulation.alphaTarget(0),s.fx=null,s.fy=null}}};const B=(0,$.A)(R,[["render",H],["__scopeId","data-v-4af40227"]]);var Y=B;const Z={class:"admin-settings"},ee={class:"form-group"},se={class:"form-group"};function te(e,s,t,o,a,r){return(0,i.uX)(),(0,i.CE)("div",Z,[s[6]||(s[6]=(0,i.Lk)("h2",null,"Session Settings",-1)),(0,i.Lk)("form",{onSubmit:s[2]||(s[2]=(0,n.D$)(((...e)=>r.saveSettings&&r.saveSettings(...e)),["prevent"]))},[(0,i.Lk)("div",ee,[(0,i.Lk)("label",null,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>a.settings.anonymousMode=e)},null,512),[[n.lH,a.settings.anonymousMode]]),s[3]||(s[3]=(0,i.eW)(" Anonymous Mode (users don't need to enter their names) "))])]),(0,i.Lk)("div",se,[(0,i.Lk)("label",null,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=e=>a.settings.showTeamsToUsers=e)},null,512),[[n.lH,a.settings.showTeamsToUsers]]),s[4]||(s[4]=(0,i.eW)(" Show generated teams to users "))])]),s[5]||(s[5]=(0,i.Lk)("button",{type:"submit",class:"primary-button"},"Save Settings & Get Session Code",-1))],32)])}var ne={name:"AdminSettings",data(){return{settings:{anonymousMode:!1,showTeamsToUsers:!0}}},created(){console.log("AdminSettings component created")},mounted(){console.log("AdminSettings component mounted")},methods:{saveSettings(){console.log("Saving settings:",this.settings),this.$emit("settings-saved",this.settings)}}};const ie=(0,$.A)(ne,[["render",te],["__scopeId","data-v-87f2731e"]]);var oe=ie;M().defaults.baseURL="/";var ae={name:"App",components:{Session:j,SurveyForm:J,TeamGraph:Y,AdminSettings:oe},data(){return{sessionId:null,isAdmin:!1,settingsConfirmed:!1,currentUser:null,browserTabId:null,sessionSettings:{anonymousMode:!1,showTeamsToUsers:!0,teamSize:4,teamApproach:"homogeni",characteristics:["tech_skills","comm_skills","creative_skills","leadership_skills"],similarityThreshold:50},surveys:[],teams:[],minResponses:1}},computed:{myTeam(){if(!this.teams||!this.teams.length)return console.log("No teams available"),null;const e=sessionStorage.getItem("currentUserId");if(console.log("Looking for team with current user:",e),!e)return console.log("No current user ID found in sessionStorage"),null;const s=this.teams.find((s=>{if(!s.members)return console.log("Team has no members:",s),!1;const t=s.members.some((s=>{if(!s||!s.id)return console.log("Invalid member:",s),!1;const t=s.id===e;return console.log("Checking member:",s.id,"against current:",e,"matches:",t),t}));return console.log("Team check result:",{teamMembers:s.members.map((e=>e.id)),hasCurrentUser:t}),t}));return console.log("Found team:",s),s}},created(){this.browserTabId="tab_"+Math.random().toString(36).substr(2,9),console.log("Browser tab ID:",this.browserTabId)},methods:{onSessionCreated({id:e,admin:s}){console.log(`Session created: id=${e}, admin=${s}`),this.sessionId=e,this.isAdmin=Boolean(s),this.settingsConfirmed=!1,console.log("Session created state:",{sessionId:this.sessionId,isAdmin:this.isAdmin,settingsConfirmed:this.settingsConfirmed}),this.fetchSessionSettings().then((()=>{this.isAdmin||(this.settingsConfirmed=!0,this.pollSurveys(),this.pollTeams())}))},onSettingsSaved(e){console.log("Settings saved:",e),this.sessionSettings={...e},this.settingsConfirmed=!0,console.log("Settings confirmed:",{settingsConfirmed:this.settingsConfirmed,settings:this.sessionSettings}),this.saveSessionSettings(),this.pollSurveys()},async saveSessionSettings(){try{console.log("Saving settings to backend:",this.sessionSettings);const e={anonymous_mode:this.sessionSettings.anonymousMode,show_teams_to_users:this.sessionSettings.showTeamsToUsers,team_size:this.sessionSettings.teamSize,team_approach:this.sessionSettings.teamApproach,characteristics:this.sessionSettings.characteristics,similarity_threshold:this.sessionSettings.similarityThreshold};console.log("Formatted settings for backend:",e),await M().post(`/api/session/${this.sessionId}/settings`,e)}catch(e){console.error("Error saving settings:",e)}},async fetchSessionSettings(){try{console.log("Fetching settings for session:",this.sessionId);const e=await M().get(`/api/session/${this.sessionId}/settings`),s=e.data;this.sessionSettings={anonymousMode:s.anonymous_mode,showTeamsToUsers:s.show_teams_to_users,teamSize:s.team_size,teamApproach:s.team_approach,characteristics:s.characteristics,similarityThreshold:s.similarity_threshold},console.log("Settings fetched and mapped:",this.sessionSettings)}catch(e){console.error("Error fetching settings:",e),this.sessionSettings={anonymousMode:!0,showTeamsToUsers:!0,teamSize:4,teamApproach:"homogeni",characteristics:["tech_skills","comm_skills","creative_skills","leadership_skills"],similarityThreshold:50}}},onSurveysUpdated(e){console.log("Survey updated with data:",e),this.isAdmin?this.surveys=e:(e.user_id?(console.log("Setting current user ID from response:",e.user_id),sessionStorage.setItem("currentUserId",e.user_id),this.currentUser=e.user_id):e.survey&&e.survey.user_id?(console.log("Setting current user ID from survey:",e.survey.user_id),sessionStorage.setItem("currentUserId",e.survey.user_id),this.currentUser=e.survey.user_id):console.warn("No user ID found in survey response:",e),e.survey&&this.surveys.push(e.survey)),this.surveys.length>=this.sessionSettings.teamSize&&this.generateTeams()},async pollSurveys(){console.log("Starting survey polling"),this.surveyInterval=setInterval((async()=>{try{const e=await M().get(`/api/session/${this.sessionId}/surveys`);console.log("Polling surveys response:",e.data),Array.isArray(e.data)&&(this.surveys=e.data)}catch(e){console.error("Error polling surveys:",e)}}),3e3)},async pollTeams(){console.log("Starting team polling"),this.teamInterval=setInterval((async()=>{try{const e=await M().get(`/api/session/${this.sessionId}/teams`);if(console.log("Teams response:",e.data),e.data&&e.data.teams){this.teams=e.data.teams;const s=sessionStorage.getItem("currentUserId");console.log("Updated teams state:",{currentUserId:s,teamsCount:this.teams.length,teams:this.teams.map((e=>({memberIds:e.members.map((e=>e.id))})))}),this.$nextTick((()=>{console.log("Teams updated, checking myTeam:",this.myTeam)}))}}catch(e){console.error("Error polling teams:",e)}}),3e3)},async generateTeams(){try{console.log("Generating teams with settings:",this.sessionSettings);const e=Array.isArray(this.sessionSettings.characteristics)?this.sessionSettings.characteristics:["tech_skills","comm_skills","creative_skills","leadership_skills"],s={team_size:parseInt(this.sessionSettings.teamSize),team_approach:this.sessionSettings.teamApproach,characteristics:e,similarity_threshold:parseInt(this.sessionSettings.similarityThreshold),anonymous_mode:this.sessionSettings.anonymousMode,show_teams_to_users:this.sessionSettings.showTeamsToUsers};console.log("Sending settings to backend:",s);const t=await M().post(`/api/session/${this.sessionId}/teams`,{settings:s});t.data&&t.data.teams?(this.teams=t.data.teams,console.log("Teams generated:",this.teams),this.$forceUpdate()):console.error("Invalid team data:",t.data)}catch(e){console.error("Error generating teams:",e),alert("Failed to generate teams. Please try again.")}},formatMemberName(e){return this.sessionSettings.anonymousMode?`Member ${e.memberIndex+1}`:"string"===typeof e?e:e.name||"Anonymous"},isCurrentUser(e){const s=sessionStorage.getItem("currentUserId");if(console.log("Checking current user:",{currentUserId:s,memberId:e?.id,memberName:e?.name,anonymousMode:this.sessionSettings.anonymousMode,member:e}),!s||!e)return console.log("No current user ID or invalid member"),!1;if(this.sessionSettings.anonymousMode){const t=e.id===s;return console.log("Anonymous mode comparison:",{memberId:e.id,currentUserId:s,isMatch:t}),t}{const t=e.name===s;return console.log("Named mode comparison:",{memberName:e.name,currentUserId:s,isMatch:t}),t}}},beforeUnmount(){clearInterval(this.surveyInterval),clearInterval(this.teamInterval)}};const re=(0,$.A)(ae,[["render",x]]);var le=re;(0,n.Ef)(le).mount("#app")}},s={};function t(n){var i=s[n];if(void 0!==i)return i.exports;var o=s[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(s,n,i,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(t.O).every((function(e){return t.O[e](n[l])}))?n.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(u--,1);var m=i();void 0!==m&&(s=m)}}return s}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,n){var i,o,a=n[0],r=n[1],l=n[2],m=0;if(a.some((function(s){return 0!==e[s]}))){for(i in r)t.o(r,i)&&(t.m[i]=r[i]);if(l)var u=l(t)}for(s&&s(n);m<a.length;m++)o=a[m],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},n=self["webpackChunkteam_sync_front"]=self["webpackChunkteam_sync_front"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(2345)}));n=t.O(n)})();
//# sourceMappingURL=app.8631e98a.js.map